<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ventas</title>
  <link rel="stylesheet" href="css/apps.css">
</head>
<body>
  <div class="contenedor">
    <section class="nav-bar">
      <img loading="lazy" src="img/BCL MGM.png" class="BCL_MGM" height="80px" />
      <div class="bienvenido">
        <h1>Ventas</h1> 
      </div>
    </section>
    <div class="vertical-line"></div>

    <section class="contenedor2">
      <div class="menu-icon">â˜°</div>
      <nav class="menu">
        <button class="home" onclick="window.history.back();">Home</button>
      </nav>
      <div class="contenedor-general">
      <div class="container-todo">
        <div class="herramientas">Herramientas</div>
        <div class="container-categoria" >
          <div class="cuadros" id="linkFormularioCondiciones">
            <img class="icono" loading="lazy" src="img/solicitudDescuento.png" draggable="false"/>
          </div>
          <div class="titulo">Solicitud <br> de Descuento</div>
        </div>
      </div>
      <div class="container-todo borde">
        <div class="reportes"> Reportes</div>
        <div class="container-categoria" >
          <div class="cuadros" id="linkCalculadora">
            <img class="icono" loading="lazy" src="img/condicionesComerciales.png" draggable="false"/>
          </div>
          <div class="titulo">Condiciones comerciales</div>
        </div>
        </div>
      </div>
      </div>
    </section>
  </div>
  
  <script src="js/apps.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const authToken = sessionStorage.getItem("authToken");
        if (!authToken) {
            redirectToLogin();
        } else {
            updateUsernameDisplay();
            updateLinks(authToken);
        }
    });

    function updateUsernameDisplay() {
const name = sessionStorage.getItem("name");
}
    function redirectToLogin() {
        window.location.href = 'index.html';
    }
    function updateLinks(token) {
    const links = {
        linkCalculadora: `https://condiciones.onrender.com?token=${token}`,
        linkFormularioCondiciones: `https://condiciones.onrender.com/formulario?token=${token}`
    };

    Object.entries(links).forEach(([id, url]) => {
        const element = document.getElementById(id);
        if (element) {
            element.addEventListener('click', () => {
                window.location.href = url;
            });
        } else {
            console.warn(`Element with id "${id}" not found.`);
        }
    });
}
</script>
</body>
</html>
